# auto-commit-message コマンド

このコマンドは、現在ステージングされている変更に対して適切なコミットメッセージを生成し、コミットを実行します。

## 実行ルール

1. **現在 git add されている変更のみを対象とする**
   - 新たにファイルを git add することは禁止
   - git commit とコミットメッセージの生成のみが許可される

2. **master/main ブランチでの特別処理**
   - master または main ブランチにいる場合は、コミット前に変更内容からブランチ名を提案
   - ユーザーがブランチ作成を承認したら、新しいブランチを作成してからコミットを実行

3. **完了後の処理**
   - コミット完了後、生成したコミットメッセージを表示

## コミットメッセージのルール

CLAUDE.md に定義されているルールに従います：
- すべて**日本語**でコミットメッセージを記載
- "Co-Authored-By" 情報は付けない

## コミットメッセージ形式

Conventional Commit 形式に従い、以下の形式で記載します：

```
絵文字 <type>: <短い説明>

[本文（任意）]

[フッター（任意）]
```

### type一覧と推奨絵文字

| type | 説明 | 推奨絵文字 |
|------|------|------------|
| feat | 新機能追加 | ✨ |
| fix | バグ修正 | 🐛 |
| docs | ドキュメント変更 | 📝 |
| style | フォーマット・スタイルのみの変更 | 🎨 |
| refactor | 機能追加・バグ修正を伴わないリファクタリング | ♻️ |
| perf | パフォーマンス改善 | ⚡️ |
| test | テスト追加／修正 | ✅ |
| chore | ビルド・ツール・依存関係等の変更 | 🔧 |

### 詳細な絵文字マッピング

変更の内容に応じて、より具体的な絵文字を使用することも可能です：

#### 機能追加・改善系
- ✨ 新機能追加
- 🚸 ユーザー体験／使いやすさ改善
- ♿️ アクセシビリティ改善
- 🔍 SEO 改善
- 🌐 国際化／ローカライズ
- 📱 レスポンシブデザイン対応
- 💫 アニメーション／トランジション追加・更新
- 🏷️ 型追加・更新
- 💬 テキスト／リテラル追加・更新
- 👔 ビジネスロジック追加・更新
- 🧵 マルチスレッド／並列処理関連の機能
- 🦺 バリデーション関連変更
- ✈️ オフラインサポート改善
- 🚩 フィーチャーフラグ追加・更新・削除
- 🔊 ログ追加・更新
- 📈 アナリティクス／トラッキング追加・更新

#### バグ修正系
- 🐛 一般的なバグ修正
- 🚑️ 重大なホットフィックス
- 🩹 軽微な修正
- ✏️ タイポ修正
- 🥅 エラー捕捉
- 👽️ 外部 API 変更への対応
- 🚨 コンパイラ／リンター警告修正
- 🔒️ セキュリティ問題修正
- 💚 CI ビルド修正
- 🔇 ログ削除

#### リファクタリング系
- ♻️ 一般的なリファクタリング
- 🎨 コード構造／フォーマット改善
- 🚚 リソースの移動／リネーム
- 🏗️ アーキテクチャ変更
- ⚰️ 使われなくなったコード削除
- 🔥 コード／ファイル削除

#### ドキュメント系
- 📝 ドキュメント変更
- 💡 ソースコードコメント追加・更新

#### テスト系
- ✅ テスト追加・更新
- 🤡 モック作成
- 📸 スナップショット追加・更新

#### 構成・ツール系
- 🔧 ツール／設定変更
- 👷 CI ビルドシステム追加・更新
- 📦 コンパイル済みファイル／パッケージ追加・更新
- ➕ 依存関係追加
- ➖ 依存関係削除
- 📌 依存関係バージョン固定
- 🌱 シードデータ追加・更新
- 💻 開発体験向上
- 🙈 .gitignore 追加・更新
- 📄 ライセンス追加・更新
- 👥 コントリビューター追加・更新
- 🔀 ブランチのマージ

#### その他
- 🎉 プロジェクト開始
- 🔖 リリース／バージョンタグ付け
- 🚧 作業中（WIP）
- ⏪️ 変更のリバート
- 🗃️ データベース関連変更
- 🍱 アセット追加・更新
- 💥 破壊的変更
- 🧪 実験的なコードの追加
- ⚗️ 実験的変更
- 🥚 イースターエッグ追加・更新

## コミットメッセージの例

```
✨ feat: 顧客向けメール配信機能を追加

顧客の購買履歴に基づいたパーソナライズされたメール配信機能を実装しました。
- SendGridを使用したメール送信処理
- 配信スケジューリング機能
- 配信結果のトラッキング

Closes #123
```

```
🐛 fix: 注文確定時の在庫計算エラーを修正

複数商品を同時に注文した際に、在庫数が正しく減算されない問題を修正しました。
```

```
♻️ refactor: 顧客データ取得処理をリポジトリパターンに移行

domain層の設計方針に従い、顧客データの取得処理をリポジトリパターンに変更しました。
これにより、データソースの変更が容易になります。
```
