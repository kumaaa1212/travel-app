# プルリクエスト作成

プルリクエスト作成を支援するサブエージェントを呼び出し、プロジェクト標準に従った整形されたPRを作成します。

## 実行手順

### ステップ1: 作業準備の確認

現在の作業状態を確認し、PR作成の前提条件が満たされているかを検証します。

**確認事項:**
- 現在のブランチがmasterブランチではないこと
- コミットが積まれていること
- 作業内容がコミットされていること

### ステップ2: pr-creatorエージェントの起動

**重要**: 自分でPR作成処理を行わず、pr-creatorサブエージェントを起動してください。

pr-creatorエージェントへの指示:
- コミット履歴と差分内容を確認してPRを作成すること
- PRテンプレートに従って適切にフォーマットすること
- PRタイトルは絵文字とConventional Commit形式で作成すること
- PR本文にはMermaid図を含めること
- 必ずDraft状態でPRを作成すること
- ユーザーから指示があった場合は、その内容をpr-creatorサブエージェントに追加で指示してください。

### ステップ3: 実行結果の確認と報告

エージェントの実行結果を確認し、以下を報告します：
- 作成されたPRのURL
- PR作成の成功/失敗状態
- エラーが発生した場合はその詳細

## 使用例

```bash
# 引数なしで実行（積まれたコミットの変更差分を基にPR本文を作成）
/call-pr-creator

# 特定のメッセージと共に実行（pr-creator エージェントへの追加指示）
/call-pr-creator xxxxのリファクタリングを行ったのでPRを作成してください
```

## エラーハンドリング

**エージェント実行失敗時の対応:**
- masterブランチの場合は処理を中断
- コミットがない場合は作成を促す
- その他のエラーは詳細を報告

## 注意事項

1. **ブランチ確認**: masterブランチでの実行は禁止されています
2. **コミット必須**: PR作成前に変更内容がコミットされている必要があります
3. **Draft PR**: 作成されるPRは必ずDraft状態となります
